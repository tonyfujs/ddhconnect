<!DOCTYPE html>
<!-- saved from url=(0105)file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">



<meta name="generator" content="pandoc">

<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="date" content="2018-08-29">

<title>Contributing Content</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

<script type="text/javascript" src="./Contributing Content_files/MathJax.js.download"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body><div id="MathJax_Message" style="display: none;"></div>




<h1 class="title toc-ignore">Contributing Content</h1>
<h4 class="date"><em>2018-08-29</em></h4>


<div id="TOC">
<ul>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#introduction"><span class="toc-section-number">1</span> Introduction</a><ul>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#terminology"><span class="toc-section-number">1.1</span> Terminology</a></li>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#setting-up-your-connection"><span class="toc-section-number">1.2</span> Setting Up Your Connection</a></li>
</ul></li>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#adding-content"><span class="toc-section-number">2</span> Adding Content</a><ul>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#adding-a-new-dataset"><span class="toc-section-number">2.1</span> Adding a new dataset</a></li>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#adding-a-resource-to-the-dataset"><span class="toc-section-number">2.2</span> Adding a resource to the dataset</a></li>
</ul></li>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#updating-content"><span class="toc-section-number">3</span> Updating Content</a><ul>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#updating-a-dataset"><span class="toc-section-number">3.1</span> Updating a dataset</a></li>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#updating-a-resource"><span class="toc-section-number">3.2</span> Updating a resource</a></li>
</ul></li>
<li><a href="file:///C:/Users/wb499754/AppData/Local/Temp/RtmpoDq2Rn/preview-7d344514110.dir/contributing_content.html#ending-your-connection"><span class="toc-section-number">4</span> Ending Your Connection</a></li>
</ul>
</div>

<hr>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>With proper authorization, you can add and update datasets and resources to the Data Catalog through <code>ddhconnect</code>.</p>
<div id="terminology" class="section level2">
<h2><span class="header-section-number">1.1</span> Terminology</h2>
<p>The World Bank Data Catalog is built using the DKAN platform. In line with DKAN terminology, the Data Catalog content is organized in <strong>datasets</strong> and <strong>resources</strong>.</p>
<ul>
<li>A <strong>dataset</strong> is used to group related pieces of data and their associated metadata.<br>
</li>
<li><strong>Resources</strong> refer to the actual files, APIs or links that are being shared within a dataset. A single dataset can have multiple resources.</li>
</ul>
<p>For more information, please refer to the <a href="http://dkan.readthedocs.io/en/latest/community/opendatastandards.html">DKAN documentation</a></p>
</div>
<div id="setting-up-your-connection" class="section level2">
<h2><span class="header-section-number">1.2</span> Setting Up Your Connection</h2>
<p>First, set up your connection and authenticate your credentials using <code>dkanr::dkanr_setup()</code>. You can contact the World Bank’s IT Services to obtain login information to access the API’s extended services, provided that you are authorized for these credentials.</p>
<hr>
</div>
</div>
<div id="adding-content" class="section level1">
<h1><span class="header-section-number">2</span> Adding Content</h1>
<p>To add content to the Data Catalog, you’ll need to</p>
<ul>
<li>First: create a new dataset (metadata)<br>
</li>
<li>Second: Add the corresponding resources (data files, links, etc.)</li>
</ul>
<p>Consider the case where we want to add a geospatial dataset, and attach a zip file containing the data as a resource.</p>
<div id="adding-a-new-dataset" class="section level2">
<h2><span class="header-section-number">2.1</span> Adding a new dataset</h2>
<p>To add a new dataset to the Data Catalog, you need to provide a minimum of information about it. You can find the required metadata fields for a given data type using <code>get_required_fields()</code>. In our example, we want to add a geospatial dataset.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">get_required_fields</span>(<span class="st">"Geospatial"</span>)</a></code></pre></div>
<pre><code>##  [1] "title"                           "body"                           
##  [3] "field_topic"                     "field_wbddh_data_class"         
##  [5] "field_wbddh_data_type"           "field_wbddh_languages_supported"
##  [7] "field_frequency"                 "field_wbddh_economy_coverage"   
##  [9] "field_wbddh_country"             "field_license_wbddh"            
## [11] "workflow_status"                 "type"</code></pre>
<p>The metadata should be organized into a named list with the field names and corresponding values. The <code>create_json_body()</code> will then take care of the formatting and generate the required JSON body for you. The required JSON body is different for <strong>dataset</strong> and <strong>resource</strong>. Set the <code>node_type</code> argument in <code>create_json_body()</code> to generate the correct JSON body.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">metadata =<span class="st"> </span><span class="kw">list</span>(<span class="st">"title"</span> =<span class="st"> "My first dataset"</span>,</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">           <span class="st">"body"</span> =<span class="st"> "A short description: What my dataset is about."</span>,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">           <span class="st">"field_topic"</span> =<span class="st"> "Poverty"</span>,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">           <span class="st">"field_wbddh_data_class"</span> =<span class="st"> "Public"</span>,</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">           <span class="st">"field_wbddh_data_type"</span> =<span class="st"> "Geospatial"</span>,</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">           <span class="st">"field_wbddh_languages_supported"</span> =<span class="st"> "English"</span>,</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">           <span class="st">"field_frequency"</span> =<span class="st"> "Periodicity not specified"</span>,</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">           <span class="st">"field_wbddh_economy_coverage"</span> =<span class="st"> "Blend"</span>,</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">           <span class="st">"field_wbddh_country"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"Afghanistan"</span>,<span class="st">"Albania"</span>,<span class="st">"Algeria"</span>),</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">           <span class="st">"field_license_wbddh"</span> =<span class="st"> "Custom License"</span>,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">           <span class="st">"workflow_status"</span> =<span class="st"> "published"</span>)</a>
<a class="sourceLine" id="cb3-12" data-line-number="12"></a>
<a class="sourceLine" id="cb3-13" data-line-number="13">json_dataset &lt;-<span class="st"> </span><span class="kw">create_json_body</span>(<span class="dt">values =</span> metadata,</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">                                 <span class="dt">node_type =</span> <span class="st">"dataset"</span>)</a></code></pre></div>
<p>Many of the fields here (Ex: <code>field_topic</code>, <code>field_wbddh_data_class</code>) take a controlled list of values as input. To view the fields that take a controlled list of values, use <code>get_lov_fields()</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">get_lov_fields</span>()</a></code></pre></div>
<pre><code>##  [1] "field_format"                     "field_tags"                      
##  [3] "field_topic"                      "field_wbddh_data_type"           
##  [5] "field_wbddh_data_class"           "field_wbddh_economy_coverage"    
##  [7] "field_wbddh_gps_ccsas"            "field_wbddh_kind_of_data"        
##  [9] "field_wbddh_languages_supported"  "field_license_wbddh"             
## [11] "field_wbddh_mode_data_collection" "field_wbddh_ds_source"           
## [13] "field_wbddh_spatial_data_type"    "field_wbddh_region"              
## [15] "field_wbddh_country"              "field_wbddh_periodicity"         
## [17] "field_wbddh_api_format"           "field_wbddh_resource_type"       
## [19] "field_wbddh_update_frequency"     "field_granularity_list"          
## [21] "field_ddh_harvest_src"            "field_exception_s_"              
## [23] "field_frequency"                  "workflow_status"</code></pre>
<p>You can view the valid list of values for these controlled fields using <code>get_lovs()</code>. The <code>list_value_name</code> column in the dataframe shows the valid values:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">lovs &lt;-<span class="st"> </span><span class="kw">get_lovs</span>()</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">head</span>(lovs)</a></code></pre></div>
<pre><code>##   vocabulary_name machine_name list_value_name  tid
## 1 resource_format field_format             APF  964
## 2 resource_format field_format            data 1364
## 3 resource_format field_format             CSV   14
## 4 resource_format field_format         CSV ZIP  659
## 5 resource_format field_format             DBF 1207
## 6 resource_format field_format           EXCEL 1194</code></pre>
<p>Add the dataset to the Data Catalog by passing the formatted JSON to <code>create_dataset()</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">resp_dataset &lt;-<span class="st"> </span><span class="kw">create_dataset</span>(<span class="dt">body =</span> json_dataset)</a></code></pre></div>
<p><code>create_dataset()</code> prints the ID number (node ID) of the newly created dataset. You can view the metadata using <code>get_metadata()</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">resp &lt;-<span class="st"> </span><span class="kw">get_metadata</span>(resp_dataset<span class="op">$</span>nid)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">resp</a></code></pre></div>
</div>
<div id="adding-a-resource-to-the-dataset" class="section level2">
<h2><span class="header-section-number">2.2</span> Adding a resource to the dataset</h2>
<p>Once the dataset is created, you can add the data files, links and supporting documents as resources. Creating a resource is very similar to creating a dataset: * you create a named list of the resource metadata * you use <code>create_json_body()</code> to generate the required JSON body * you pass the created JSON body to <code>create_resource()</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">resource_metadata &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="st">"title"</span> =<span class="st"> "My geospatial file"</span>,</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">                        <span class="st">"field_wbddh_data_class"</span> =<span class="st"> "Public"</span>,</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">                        <span class="st">"field_wbddh_resource_type"</span> =<span class="st"> "Download"</span>,</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">                        <span class="st">"workflow_status"</span> =<span class="st"> "published"</span>)</a>
<a class="sourceLine" id="cb10-5" data-line-number="5"></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">json_resource &lt;-<span class="st"> </span><span class="kw">create_json_body</span>(<span class="dt">values =</span> resource_metadata,</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">                                  <span class="dt">node_type =</span> <span class="st">"resource"</span>)</a>
<a class="sourceLine" id="cb10-8" data-line-number="8"></a>
<a class="sourceLine" id="cb10-9" data-line-number="9">resp_resource &lt;-<span class="st"> </span><span class="kw">create_resource</span>(<span class="dt">body =</span> json_resource)</a></code></pre></div>
<p>If your resource is a local file, you can upload it to the Data Catalog using <code>attach_file_to_resource()</code>.</p>
<p>If your resource is a link to an external page, you can add the link as part of the resource metadata.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">resource_metadata &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="st">"title"</span> =<span class="st"> "Small Area Estimation of Poverty"</span>,</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">                        <span class="st">"field_wbddh_data_class"</span> =<span class="st"> "Public"</span>,</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">                        <span class="st">"field_wbddh_resource_type"</span> =<span class="st"> "Related Material"</span>,</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">                        <span class="st">"field_link_api"</span> =<span class="st"> "http://www.nsb.gov.bt/publication/files/pub9zo1561nu.pdf"</span>,</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">                        <span class="st">"workflow_status"</span> =<span class="st"> "published"</span>)</a>
<a class="sourceLine" id="cb11-6" data-line-number="6"></a>
<a class="sourceLine" id="cb11-7" data-line-number="7">json_resource &lt;-<span class="st"> </span><span class="kw">create_json_body</span>(<span class="dt">values =</span> resource_metadata,</a>
<a class="sourceLine" id="cb11-8" data-line-number="8">                                  <span class="dt">node_type =</span> <span class="st">"resource"</span>)</a>
<a class="sourceLine" id="cb11-9" data-line-number="9"></a>
<a class="sourceLine" id="cb11-10" data-line-number="10">resp_resource &lt;-<span class="st"> </span><span class="kw">create_resource</span>(<span class="dt">body =</span> json_resource)</a></code></pre></div>
<p>After the resource is added to the Data Catalog, attach it to your dataset using <code>attach_resources_to_dataset()</code>. You can attach multiple resources to a dataset by passing a vector of resource nids.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">attach_resources_to_dataset</span>(<span class="dt">dataset_nid =</span> resp_dataset<span class="op">$</span>nid, </a>
<a class="sourceLine" id="cb12-2" data-line-number="2">                            <span class="dt">resource_nid =</span> resp_resource<span class="op">$</span>nid)</a></code></pre></div>
<hr>
</div>
</div>
<div id="updating-content" class="section level1">
<h1><span class="header-section-number">3</span> Updating Content</h1>
<p>To update content in the Data Catalog, you need to know the node ID of the dataset you wish you edit. To obtain the node id, you can search the catalog by the title of the dataset. For example, to get the node id of the “Test Poverty Map” dataset that we just created, you can perform a search using <code>search_catalog()</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">search_results &lt;-<span class="st"> </span><span class="kw">search_catalog</span>(<span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">"nid"</span>, <span class="st">"title"</span>),</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">                                 <span class="dt">filters =</span> <span class="kw">c</span>(<span class="st">"title"</span> =<span class="st"> "My first dataset"</span>))</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">poverty_map_nid &lt;-<span class="st"> </span>search_results[[<span class="dv">1</span>]]<span class="op">$</span>nid</a></code></pre></div>
<div id="updating-a-dataset" class="section level2">
<h2><span class="header-section-number">3.1</span> Updating a dataset</h2>
<p>The process of updating a dataset is similar to the process of adding a new dataset. Create a named vector with the updated metadata fields and the correspodning new values. Format the metadata using <code>create_json_body()</code> and pass it to <code>update_dataset()</code> to update the dataset.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">update_dataset_metadata &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"field_wbddh_country"</span> =<span class="st"> "Colombia"</span>,</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">                             <span class="st">"field_tags"</span> =<span class="st"> "Poverty"</span>,</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">                             <span class="st">"workflow_status"</span> =<span class="st"> "published"</span>)</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">update_dataset_json &lt;-<span class="st"> </span><span class="kw">create_json_body</span>(<span class="dt">values =</span> update_dataset_metadata, <span class="dt">node_type =</span> “dataset”)</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="kw">update_dataset</span>(<span class="dt">nid =</span> poverty_map_nid, <span class="dt">body =</span> update_dataset_json)</a></code></pre></div>
<p>Note that you need to set the <strong>workflow_status</strong> to “published” <strong>every time</strong> you update the node.</p>
</div>
<div id="updating-a-resource" class="section level2">
<h2><span class="header-section-number">3.2</span> Updating a resource</h2>
<p>Use the same process as above to update the resource metadata. * Get the resource node id<br>
* Format the new metadata using <code>create_json_body()</code><br>
* Update the resource using <code>update_resource()</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">update_resource_metadata &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="st">"field_format"</span> =<span class="st"> "CSV"</span>,</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">                               <span class="st">"workflow_status"</span> =<span class="st"> "published"</span>)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"></a>
<a class="sourceLine" id="cb15-4" data-line-number="4">update_resource_json &lt;-<span class="st"> </span><span class="kw">create_json_body</span>(<span class="dt">values =</span> update_resource_metadata, </a>
<a class="sourceLine" id="cb15-5" data-line-number="5">                                         <span class="dt">node_type =</span> “resource”)</a>
<a class="sourceLine" id="cb15-6" data-line-number="6"></a>
<a class="sourceLine" id="cb15-7" data-line-number="7">resource_nid &lt;-<span class="st"> </span><span class="kw">get_resource_nid</span>(poverty_map_nid)</a>
<a class="sourceLine" id="cb15-8" data-line-number="8"></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="kw">update_resource</span>(<span class="dt">nid =</span> resource_nid, <span class="dt">body =</span> resource_json)</a></code></pre></div>
<hr>
</div>
</div>
<div id="ending-your-connection" class="section level1">
<h1><span class="header-section-number">4</span> Ending Your Connection</h1>
<p>Once you’re done using the API, use the <code>logout_ddh()</code> function to end the connection:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">logout_ddh</span>()</a></code></pre></div>
<pre><code>## [[1]]
## [1] TRUE</code></pre>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>



</body></html>